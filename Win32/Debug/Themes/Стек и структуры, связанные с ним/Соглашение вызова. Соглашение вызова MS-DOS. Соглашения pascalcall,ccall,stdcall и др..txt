Соглашение вызова MS-DOS
В регистр AH помещается номер функции MS-DOS.
Параметры передаются в соответствии с описанием функции, через регистры/иногда частично.
Вызов производится через int 21h.
Результат, если есть, возвращается в соответствии с описанием функции.
Значения регистров общего назначения остаются неизменными.
Кроме: регистра AX, регистров, которые используются функцией для возврата результатов.
$
Соглашение вызова Pascal
Параметры в стек помещаются слева направо.

Очистку стека выполняет вызываемая процедура.
$
Пример соглашения вызова Pascal
Push param1
Push param2
Call myproc
...
$
Пример соглашения вызова Pascal
Myproc:
Push bp
Mov bp, sp
Mov ax[bp+6]
Sub ax[bp+4]
Pop bp
Ret 4
$
Соглашение вызова С
Параметры в стек помещаются справа налево.

Очистку стека выполняет вызывающая процедура.
$
Пример соглашения вызова C
Push param2
Push param1
Call Myproc
Add sp, 4
...
$
Пример соглашения вызова C
Myproc:
Push bp
Mov bp, sp
Mov ax, [bp+4]
Sub ax, [bp+6]
Pop bp
Ret
$
Соглашение вызова std call
Параметры в стек помещаются справа налево.

Очистку стека выполняет вызываемая процедура.
$
Пример соглашения вызова std call
Push param2
Push param1
Call MyProc
...
$
Пример соглашения вызова std call
MyProc:
Push bp
Mov bp, sp
Mov ax, [bp+4]
Sub ax, [bp+6]
Pop bp
Ret 4
$
Общие правила Pascalcall, Ccall, stdcall
Процедура должна оставить нетронутыми BX,SI,DI,BP.
Процедура может изменять значения AX,CX,DX.
Регистр SP изменяется в результате манипуляции со стеком.

Для возврата значения из функции используется AX.
Видеоадаптер
Видеоадаптер – устройство, преобразующее графический образ в ОЗУ или памяти иного адаптера в форму, пригодную для вывода на экран.
Видеоадаптер находится в одном из поддерживаемых режимов.
Режимы видеоадаптера разделяются на два типа:
– Текстовые
– Графические

Все режимы видеоадаптера пронумерованы.
Для некоторых режимов характеристики известны заранее
Для остальных режимов их можно узнать взаимодействуя с видео-адаптером
$
Видеопамять
Видеопамять – область данных, отведенная для хранения данных, которые используются для формирования изображения на экране.

В первых видеоадаптерах хранилось растровое изображение.
В современных видеокартах могут храниться также векторные данные (например, в виде массивов треугольников).
$
int 10h
В зависимости от выбранного режима видеоадаптер интерпретирует содержимое видеопамяти по-разному
Для смены режимов и управления другими параметрами видеоадаптера в реальном режиме используют команду прерывания int 10h.
$
int 10h
Соглашение вызова у функций, предоставляемых через int 10h:
– Параметры передаются через регистры, для крупных типов – через указатель на область памяти;
– Значения всех регистров, кроме BX,CX,DX могут быть изменены;

Функции int 10h – функции BIOS.
$
int 10h
Для работы с режимами видеоадаптера есть 2 функции (номера функций заносятся в AH):
– 00h – установить требуемый режим, номер которого берётся из AL;
– 0Fh – получить информацию о выбранном сейчас режиме.
$
Видеорежим 03h
По умолчанию в MS-DOS используется видеорежим 03h:
– Текстовый;
– 80*25 знакомест;
– 16 цветов (отдельно задаются цвет символа и цвет фона).

Видеопамять для этого режима:
– Начинается с адреса B800:0000;
– Является массивом из пар байтов;
– Первый байт – код символа;
– Второй байт – цвет (атрибут) (при этом старшие 4 бита отвечают за цвет фона, а младшие 4 - за цвет символа).
$
Видеопамять
Запись в видеопамять приведет к изменению изображения на экране.
Чтение видеопамяти позволяет определить содержимое экрана. Но это является нежелательным, особенно в современных видеокартах, т.к. может требовать значительных затрат по времени.

Для записи в видеопамять удобно использовать строковые команды.
$
Видеорежим 13h
Среди стандартных графических режимов самый удобный для использования – режим 13h:
– Графический;
– 320*200 пикселей;
– 256 цветов.

Видеопамять для этого режима:
– Начинается с адреса A000:000;
– Является массивом байтов, каждый байт – цвет пикселя.
$
Способы работы с видеопамятью
Среди функций int 10h есть функции для рисования точек, но они слишком медленные.
Поэтому рекомендуется работать напрямую с видеопамятью.
Удобно реализовать отдельные процедуры для построения линий, прямоугольников и т.д.